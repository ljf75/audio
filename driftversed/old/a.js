var n=420,t=300,o=30,e=o/2,r=n/o,i=t/o,c=2,u=r+2*c,a=i+2*c,f=5,d=25,h=100,l=1.015,v=["s","h"],y=5,s=["Clear skies with a chance of satellite debris.","No, no, no, Houston, don't be anxious. Anxiety is bad for the heart.","I hate space!","So, what do you like about being up here?<br><br> The silence.","Houston, I have a bad feeling about this mission."],x=[[[210,100],[210,240],"222222222222222222222222222222222222221111111111111122221111100001111122221110000000011122221100000000001122221100000000001122221100000000001122221110000000011122221110000000011122221111110011111122221111111111111122222222222222222222222222222222222222",1],[[80,80],[375,255],"222222222222222222222222222222222222221111000000111122221000000000000122221000000000000122221000000000000122221000000000000122221000000001000122221000000001000122221000000001100122221000000001000122221111000001111122222222222222222222222222222222222222"],[[45,45],[315,225],"222222222222222222222222222222222222221111011111111122221001011111000122221001010100000122221001010100000022221000000000000022221000000000110122221011100000000122221001001110010122221000001110010122221111111111111122222222222222222222222222222222222222"],[[45,45],[375,135],"222222222222222222222222222222222222221110111100011122221010001000000122221011000010000122221000000110000022220000000100010022221110110000111022220000000100010022220000100100000022220000101101000022220000100001000022222222222222222222222222222222222222"]],w,b,g,m,p,M,I,E,k,T=0,H=v.length,B={},C={},L={},N=[],O={},S=[],_=[],j={},A={},G=function(n,t){0>t||t>=n.length||n.splice(t,1)},P=function(n){return Math.floor(n/o)*o+e},q=function(n){"b"===n.t&&U(n)},R=function(n,t){n.forEach(q),G(N,t)},U=function(n){var t=n.co.i;delete O[t][Q(n)],delete O[t][F(n)]},z=function(){for(;N.length;)R(N[0],0)},D=function(n){var t,o,e,r,i=n.split("");for(z(),t=0;t<i.length;t++)r=J(t),o=P(r[0]),e=P(r[1]),"0"!==i[t]&&mn(o,e)},F=function(n){return(Math.floor(n.y/o)+c)*u+Math.floor(n.x/o)+c},J=function(n){return[(n%u-c)*o,(Math.floor(n/u)-c)*o]},K=function(n){var t=F(n);return J(t)},Q=function(n){var t=K(n);return V(t)},V=function(n){return n[0]+"_"+n[1]},W=function(n){var t=n-u,o=n+u;return[t-1,t,t+1,n-1,n,n+1,o-1,o,o+1]},X=function(n){var t,o=F(n),e=W(o),r=e.length;for(n.c=[];r--;)t=O[n.co.i][e[r]],t&&n.c.push(t)},Y=function(n,t,o,e){var r,i,c,u=n.aa;for(r=0;e>=r;r++)n.a[r]||(n.a[r]=[]);return c=n.a[e],r=c.indexOf(t),o?(i=u.indexOf(t),G(u,i),i=u.indexOf(t),void(0>i&&G(c,r))):(n.aa.push(t),void(0>r&&c.push(t)))},Z=function(n,t,o,e){if(n)for(var r,i=n.length;i--;)r=n[i],Y(r,t,o,e)},$=function(n){N.push(n)},nn=function(n){n.w2=n.w/2,n.h2=n.h/2},tn=function(n){n.vxt=n.vx-n.w2,n.vyt=n.vy-n.h2,n.vxb=n.vx+n.w2,n.vyb=n.vy+n.h2},on=function(n){n.vx=n.x+n.dx,n.vy=n.y+n.dy,tn(n)},en=function(n){n.xt=n.x-n.w2,n.yt=n.y-n.h2,n.xb=n.x+n.w2,n.yb=n.y+n.h2},rn=function(n){n.x=n.vx,n.y=n.vy,en(n)},cn=function(n){n.dx+=n.ddx,n.dy+=n.ddy},un=function(n,t){return n.xb<t.xt&&n.vxb>=t.xt},an=function(n,t){return n.yb<t.yt&&n.vyb>=t.yt},fn=function(n,t){return n.xt>=t.xb&&n.vxt<t.xb},dn=function(n,t){return n.yt>=t.yb&&n.vyt<t.yb},hn=function(n,t){return n.vxt<t.xb&&n.vxb>t.xt&&n.vyt<t.yb&&n.vyb>t.yt},ln=function(n){for(var t,o=n.c.length;o--;)if(t=n.c[o],hn(n,t))return t;return!1},vn=function(n){return Math.sqrt(Math.pow(n.dx,2)+Math.pow(n.dy,2))},yn=function(n){var t;n.cc++,n.cc===y&&(X(n),n.cc=0),t=ln(n),t&&(an(n,t)||dn(n,t)?(n.vy=n.y,n.dy*=-1):(n.vx=n.x,n.dx*=-1),n.hp-=vn(n)*f,n.dx/=l,n.dy/=l)},sn=function(n){n.ddx/=d,n.ddy/=d,n.dx/=l,n.dy/=l},xn=function(n,t,o){Y(n,t,o,2)},wn=function(n,t,o){xn(n,cn,o),xn(n,on,o),t&&xn(n,yn,o),xn(n,sn,o),xn(n,rn,o)},bn=function(n,t,o){Z(p,n,t,1),Z(p,pn,t,3)},gn=function(n){n.o-=.01,n.ro+=Math.floor(10*Math.random())/100,n.o<0&&(n.o=0),n.w+=.2,n.h+=.2,nn(n)},mn=function(n,t){for(var e,r,i,c=Ln(["b",n,t,o-6,o-6,1,0]),u=c.length;u--;)e=c[u],i=e.co.i,O[i]||(O[i]={}),r=O[i],r[Q(e)]=r[F(e)]=e;$(c)},pn=function(n){var t=Cn(["s",n.x,n.y,2,2,1,0,-n.ddx*h,-n.ddy*h,1,"200,200,210"],n.co);wn(t),Y(t,gn,0,0),$([t])},Mn=function(n,t,o,e){o.ddx+=n/d*o.co.r,o.ddy+=t/d*o.co.r},In=function(n,t){var o,e;t=t||window.event,o=t.which||t.keyCode,B[o]!==n&&(B[o]=n,e=j[n][o],e&&e(o))},En=function(n){var t,o,e;e=n.co.c,e.save(),e.translate(n.x,n.y),e.rotate(n.ro),n.i&&(e.globalAlpha=n.o,e.drawImage(n.i,-n.w2,-n.h2)),n.r&&(t=n.r,o=2*t,e.beginPath(),e.rect(-n.w2+t,-n.h2+t,n.w-o,n.h-o),e.strokeStyle="rgba("+n.rc+","+n.o+")",e.stroke(),e.closePath()),e.restore()},kn=function(n,t){var o,e,r=0;for(r=0;r<t.a.length&&(!t.s||0===r);r++)for(e=t.a[r],o=0;o<e.length;o++)e[o](t,n);En(t)},Tn=function(n,t){for(var o,e=t.length;e--;)o=t[e],kn(n,o)},Hn=function(n,t){t.c.clearRect(0,0,t.e.width,t.e.height)},Bn=function(n){var t,o=Math.abs(T-n);for(_.forEach(Hn.bind(0,o)),t=N.length;t--;)Tn(o,N[t]);if(T=n,m){if(g)return;return void(g=m>0?window.setTimeout(function(){window.clearInterval(b),Dn(1),g=null},2e3):window.setTimeout(function(){window.clearInterval(b),Dn(0),g=null},2e3))}},Cn=function(n,t){var o={t:n[0],x:n[1],y:n[2],w:n[3],h:n[4],r:n[5],i:n[6],dx:n[7]||0,dy:n[8]||0,hp:n[9]||1,rc:n[10]||"80,90,80",ro:0,ddx:0,ddy:0,o:1,a:[],aa:[],c:[],cc:0,co:t};return nn(o),en(o),o},Ln=function(n){for(var t,o,e=[],r=_.length;r--;)o=_[r],t=Cn(n,o),e.push(t);return e},Nn=function(n,t){for(var o,e=n.length;e--;)if(o=n[e],o.co===t.co)return o},On=function(n){m=n},Sn=function(){for(var n=_.length;n--;)if(!_[n].w)return!1;return!0},_n=function(n){n.s=1,wn(n,1,1),Y(n,gn,0,0)},jn=function(n){var t=Nn(p,n);hn(t,n)?(t.co.w=!0,n.ro+=.1):t.co.w=!1,Sn()&&(_n(t),On(1))},An=function(n){n.co.h.width=(n.hp<0?0:n.hp)+"%",n.hp<=0&&(_n(n),On(-1))},Gn=function(n){_n(n),On(-1)},Pn=function(){var n,t=w[1];for(playerInfo=w[0],D(w[2]),p=Ln(["p",playerInfo[0],playerInfo[1],o,o,0,C.s,0,0,100]),M=Ln(["g",t[0],t[1],o,o,0,C.h]),Z(M,jn,0,0),n=p.length;n--;)wn(p[n],1);Z(p,An,0,0),$(p),$(M)},qn=function(n,t,o,e){for(var r,i=t.length;i--;)r=t[i],n[r]=bn.bind(0,o,e)},Rn=function(){var n;L.left=Mn.bind(0,-1,0),L.up=Mn.bind(0,0,-1),L.right=Mn.bind(0,1,0),L.down=Mn.bind(0,0,1),n=j.down={},qn(n,["65","37"],L.left,0),qn(n,["87","38"],L.up,0),qn(n,["68","39"],L.right,0),qn(n,["83","40"],L.down,0),qn(n,["82"],Gn,0),n=j.up={},qn(n,["65","37"],L.left,1),qn(n,["87","38"],L.up,1),qn(n,["68","39"],L.right,1),qn(n,["83","40"],L.down,1),qn(n,["82"],Gn,1),document.onkeydown=In.bind(0,"down"),document.onkeyup=In.bind(0,"up")},Un=function(){S=[],I.innerHTML=E.innerHTML=""},zn=function(){return w===x[0]},Dn=function(n){var t;if(Un(),n&&(Vn(),!w))return void Xn();for(zn()||Wn(),On(0),t=0;t<(w[3]||2);t++)S.push("c_"+t);S.forEach(Fn),Pn(),b=setInterval(Bn,18)},Fn=function(o,e){var r,i,c;c=document.createElement("canvas"),c.width=n,c.height=t,I.appendChild(c),r=document.createElement("div"),r.className="w",E.appendChild(r),i=document.createElement("div"),i.className="h",r.appendChild(i),_.push({i:o,h:i.style,e:c,c:c.getContext("2d"),r:e%2?-1:1})},Jn=function(n,t){C[n]=t.target,H--,H||Dn()},Kn=function(n){var t;t=new Image,t.onload=Jn.bind(0,n),t.src=n},Qn=function(){var n,t,o=[];return w?zn()?(t=document.cookie,n=x[t],n&&n!==x[0]||(t=1),o.unshift(t)):(t=x.indexOf(w)+1,o.unshift(t)):t=0,o.unshift(x[t]),o},Vn=function(){var n=Qn();n[1]&&(document.cookie=n[1]),w=n[0]},Wn=function(){k.style.display="none",A.l.className=A.r.className="",A.l.innerHTML=A.r.innerHTML=""},Xn=function(){A.m.innerHTML='Good job, you can join US now!<br><img src="n" width="500px" height="400px">'},Yn=function(){var n=s.length,t=Math.floor(Math.random()*n),o=s[t];I=document.getElementById("c"),E=document.getElementById("h"),k=document.getElementById("i"),k.innerHTML='"'+o+'" - <a href="http://www.imdb.com/title/tt1454468/" target="_blank">Gravity</a>',A.l=document.getElementById("left"),A.m=document.getElementById("mid"),A.r=document.getElementById("right"),Vn(),Rn(),v.forEach(Kn)};window.onload=Yn,window.cheat=On;
