function round5(a){return 5*Math.ceil(a/5)}function SfxrParams(){this.setSettings=function(a){for(var b=0;b<24;b++)this[String.fromCharCode(97+b)]=a[b]||0;this.c<.01&&(this.c=.01);var c=this.b+this.c+this.e;if(c<.18){var d=.18/c;this.b*=d,this.c*=d,this.e*=d}}}function SfxrSynth(){this._params=new SfxrParams;var a,b,c,d,e,f,g,h,i,j,k,l;this.reset=function(){var a=this._params;d=100/(a.f*a.f+.001),e=100/(a.g*a.g+.001),f=1-a.h*a.h*a.h*.01,g=-a.i*a.i*a.i*1e-6,a.a||(k=.5-a.n/2,l=5e-5*-a.o),h=1+a.l*a.l*(a.l>0?-.9:10),i=0,j=1==a.m?0:(1-a.m)*(1-a.m)*2e4+32},this.totalReset=function(){this.reset();var d=this._params;return a=d.b*d.b*1e5,b=d.c*d.c*1e5,c=d.e*d.e*1e5+12,3*((a+b+c)/3|0)},this.synthWave=function(m,n){var o=this._params,p=1!=o.s||o.v,q=o.v*o.v*.1,r=1+3e-4*o.w,s=o.s*o.s*o.s*.1,t=1+1e-4*o.t,u=1!=o.s,v=o.x*o.x,w=o.g,x=o.q||o.r,y=o.r*o.r*o.r*.2,z=o.q*o.q*(o.q<0?-1020:1020),A=o.p?((1-o.p)*(1-o.p)*2e4|0)+32:0,B=o.d,C=o.j/2,D=o.k*o.k*.01,E=o.a,F=a,G=1/a,H=1/b,I=1/c,J=5/(1+o.u*o.u*20)*(.01+s);J>.8&&(J=.8),J=1-J;for(var Q,S,U,W,Y,Z,K=!1,L=0,M=0,N=0,O=0,P=0,R=0,T=0,V=0,X=0,$=0,_=new Array(1024),aa=new Array(32),ba=_.length;ba--;)_[ba]=0;for(var ba=aa.length;ba--;)aa[ba]=2*Math.random()-1;for(var ba=0;ba<n;ba++){if(K)return ba;if(A&&++X>=A&&(X=0,this.reset()),j&&++i>=j&&(j=0,d*=h),f+=g,d*=f,d>e&&(d=e,w>0&&(K=!0)),S=d,C>0&&($+=D,S*=1+Math.sin($)*C),S|=0,S<8&&(S=8),E||(k+=l,k<0?k=0:k>.5&&(k=.5)),++M>F)switch(M=0,++L){case 1:F=b;break;case 2:F=c}switch(L){case 0:N=M*G;break;case 1:N=1+2*(1-M*H)*B;break;case 2:N=1-M*I;break;case 3:N=0,K=!0}x&&(z+=y,U=0|z,U<0?U=-U:U>1023&&(U=1023)),p&&r&&(q*=r,q<1e-5?q=1e-5:q>.1&&(q=.1)),Z=0;for(var ca=8;ca--;){if(T++,T>=S&&(T%=S,3==E))for(var da=aa.length;da--;)aa[da]=2*Math.random()-1;switch(E){case 0:Y=T/S<k?.5:-.5;break;case 1:Y=1-T/S*2;break;case 2:W=T/S,W=6.28318531*(W>.5?W-1:W),Y=1.27323954*W+.405284735*W*W*(W<0?1:-1),Y=.225*((Y<0?-1:1)*Y*Y-Y)+Y;break;case 3:Y=aa[Math.abs(32*T/S|0)]}p&&(Q=R,s*=t,s<0?s=0:s>.1&&(s=.1),u?(P+=(Y-R)*s,P*=J):(R=Y,P=0),R+=P,O+=R-Q,O*=1-q,Y=O),x&&(_[V%1024]=Y,Y+=_[(V-U+1024)%1024],V++),Z+=Y}Z*=.125*N*v,m[ba]=Z>=1?32767:Z<=-1?-32768:32767*Z|0}return n}}function ArcadeAudio(){this.sounds={}}function initSound(){aa.add("powerup",10,[[0,,.062,.0016,.4789,.2066,,.3463,,.0322,,,,.3806,-.0057,.5264,,.0145,1,,,.0466,,.4]]),aa.add("laser",5,[[0,,.1779,,.3597,.5614,.2637,-.1699,,,,,,.8236,-.4205,,,,1,,,,,.25]]),aa.add("explosion",20,[[3,,.139,.39,.56,.1534,,.2012,,,,,,,,,-.1093,-.2849,1,,,,,.2]]),aa.add("fade",20,[[3,.49,1,,,.89,.02,-.3537,,,,-.6599,,,,,.3999,.3799,1,,,,.02,.4]]),aa.add("buy",20,[[0,,.01,.4786,.4222,.5756,,,,,,.4119,.6761,,,,,,1,,,,,.4]]),aa.add("noclick",20,[[0,,.01,.4786,.4222,.5756,,,,,,-.76,.97,,.02,,,,1,,,,,.4]]),aa.add("keypress",2,[[3,,.0859,.12,.094,.32,,1,.48,,.57,-.14,,,-.02,,,.28,.46,-.54,,,,.3]]),aa.add("jitter",20,[[3,,.18,,,.77,,-1,-1,,,-1,,,,,.1,.1,1,,,.5,-1,.2]])}function saveData(a,b){localStorage[a]=JSON.stringify(b),localStorage.setItem("item",!0)}function loadData(a){return localStorage[a]}function collision(a,b){return"undefined"!=typeof a&&"undefined"!=typeof b&&(a.x<=b.x+b.width&&a.x+a.width>=b.x&&a.y<=b.y+b.height&&a.y+a.height>b.y)}function hoverOn(a){return pointer.x>=a.x&&pointer.x<=a.x+a.width&&pointer.y>=a.y&&pointer.y<=a.y+a.height}function drawText(a,b,c,d,e,f){f!==!0&&(b=round5(b),c=round5(c));var g=[];a=a.toUpperCase();for(var h=0;h<a.length;h++){var i=varters[a.charAt(h)];i&&g.push(i)}game.ctx.fillStyle=e||"#000000";var j=b;for(h=0;h<g.length;h++){i=g[h];for(var k=c,l=0,m=0;m<i.length;m++){for(var n=i[m],o=0;o<n.length;o++)n[o]&&game.ctx.fillRect(j+o*d,k,d,d);l=Math.max(l,n.length*d),k+=d}j+=d+l}}function toggleFullScreen(){var a=window.document,b=a.documentElement,c=b.requestFullscreen||b.mozRequestFullScreen||b.webkitRequestFullScreen||b.msRequestFullscreen,d=a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen;a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement?d.call(a):c.call(b)}function click(a){"play"==game.currentState&&game.play.onclick(),1==hoverOn(game.start.playBTN)&&"start"==game.currentState&&(game.play.init(),game.particles=[],aa.play("fade")),1==hoverOn(game.start.storeBTN)&&"start"==game.currentState&&(game.store.init(),game.fade=1,game.particles=[],game.bugs=[],game.bulvars=[],aa.play("fade")),1==game.start.controls&&(game.start.controls=!1),1==hoverOn(game.start.controlBTN)&&"start"==game.currentState&&(game.start.controls=!0),"store"==game.currentState&&game.store.onclick(),"gameover"==game.currentState&&game.over.timer>=60&&(game.fade=1,game.particles=[],game.currentState="start",aa.play("fade")),1==hoverOn(game.gui.fullscreenBTN)&&"preload"!=game.currentState&&"play"!=game.currentState&&(1==game.gui.fullscreenBTN.toggled?(game.gui.fullscreenBTN.toggled=!1,toggleFullScreen()):(game.gui.fullscreenBTN.toggled=!0,toggleFullScreen())),pointer.x=a.pageX-game.canvas.offsetLeft,pointer.y=a.pageY-game.canvas.offsetTop,a.preventDefault()}function draw(){if(requestAnimationFrame(draw),now=Date.now(),delta=now-then,delta>interval){then=now-delta%interval,game.updateSize(),game.update(),game.tick++,delta>=1e3/15&&(game.update(),game.tick++);var a=0,b=0;random(1,200)<game.hits&&(a=random(-10,10),b=random(-10,10)),0==a&&0==b||game.ctx.translate(a,b),game.ctx.globalAlpha=.7,game.ctx.fillStyle="#1C4145",game.ctx.fillRect(0,0,game.canvas.width,game.canvas.height),game.ctx.globalAlpha=1,game.render(),0==a&&0==b||game.ctx.translate(-a,-b)}}const FPS=.03;var game={};game.tick=0;var random=function(a,b){return Math.floor(Math.random()*(b-a))+a};game.moneycount=0,game.canvas=document.getElementById("canvas"),game.fade=1,game.ctx=game.canvas.getContext("2d"),game.money=0,game.currentState="preload",game.highscore=0,game.score=0,game.hits=0,game.assets={},game.image=new Image,game.image.src="assets.png",game.image.onload=function(){game.init()},document.addEventListener("onerror",function(a){a.preventDefault()}),game.items={},game.items.antivirus=0,game.items.fasterdefence=0,game.items.searchingcode=0,game.items.diskdefrag=0,game.items.virusscanner=0,game.items.doublemoney=0,game.items.firewall=0;var aa={};if(window.mobileAndTabvarcheck=function(){var a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a},0==mobileAndTabvarcheck()){var synth=new SfxrSynth;window.jsfxr=function(a){synth._params.setSettings(a);var b=synth.totalReset(),c=new Uint8Array(4*((b+1)/2|0)+44),d=2*synth.synthWave(new Uint16Array(c.buffer,44),b),e=new Uint32Array(c.buffer,0,44);e[0]=1179011410,e[1]=d+36,e[2]=1163280727,e[3]=544501094,e[4]=16,e[5]=65537,e[6]=44100,e[7]=88200,e[8]=1048578,e[9]=1635017060,e[10]=d,d+=44;for(var f=0,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="data:audio/wav;base64,";f<d;f+=3){var i=c[f]<<16|c[f+1]<<8|c[f+2];h+=g[i>>18]+g[i>>12&63]+g[i>>6&63]+g[63&i]}return h},ArcadeAudio.prototype.add=function(a,b,c){this.sounds[a]=[],c.forEach(function(c,d){this.sounds[a].push({tick:0,count:b,pool:[]});for(var e=0;e<b;e++){var f=new Audio;f.src=jsfxr(c),this.sounds[a][d].pool.push(f)}},this)},ArcadeAudio.prototype.play=function(a){var b=this.sounds[a],c=b.length>1?b[Math.floor(Math.random()*b.length)]:b[0];c.pool[c.tick].play(),c.tick<c.count-1?c.tick++:c.tick=0},aa=new ArcadeAudio,setTimeout(initSound,1)}else aa.play=function(){};game.updateSize=function(){window.innerWidth==game.canvas.width&&window.innerHeight==game.canvas.height||(game.canvas.width=window.innerWidth,game.canvas.height=window.innerHeight,game.canvas.style.width=window.innerWidth,game.canvas.style.height=window.innerHeight,game.canvas.style.imageRendering="pixelated",game.ctx.imageSmoothingEnabled=!1)},game.update=function(){for(var a=0;a<4*game.canvas.width;a+=80)game.tick%20==0&&game.spawnBckParticle(a,-80);game.updateBckParticle(),"start"==game.currentState?(random(0,100)<=3&&game.spawnBug(),game.bugs.length>0&&random(0,50)<=2&&(random(0,100)<=3&&game.spawnBug(),game.spawnSeakingBulvar(game.canvas.width/2-20,game.canvas.height-80)),game.score=0):"play"==game.currentState?game.play.update():"preload"==game.currentState?game.preload.update():"gameover"==game.currentState?game.over.update():"store"==game.currentState&&game.store.update(),game.updateBug(),game.highscore<game.score&&(game.highscore=game.score);for(var a=0;a<game.bugs.length;a++)for(var b=0;b<game.bulvars.length;b++)collision(game.bugs[a],game.bulvars[b])&&(game.spawnParticles(game.bugs[a].x,game.bugs[a].y,11),game.bugs[a].HP--,game.bugs[a].HP<=0&&game.devareBug(a),"play"==game.currentState&&(game.score+=100,game.moneycount>0?game.money+=2:game.money+=1,game.score%1e4==0&&game.score>0&&(game.spawnAlert("score: "+game.score,"#00ff00"),aa.play("powerup"))),game.devareBulvar(b));for(var a=0;a<game.bugs.length;a++)for(var b=0;b<game.files.length;b++)collision(game.bugs[a],game.files[b])&&(game.spawnParticles(game.bugs[a].x,game.bugs[a].y,30),game.spawnParticles(game.files[b].x,game.files[b].y,30),game.hits+=.5,game.files[b].HP--,game.devareBug(a),game.spawnAlert("file hit","#ff0000"));game.gui.update(),game.updateBulvar(),game.updateParticle(),game.updateFile()},game.render=function(){game.renderBckParticle(),game.renderBug(),game.renderBulvar(),game.renderParticle(),game.renderFile(),"start"==game.currentState?game.start.render():"play"==game.currentState?game.play.render():"preload"==game.currentState?game.preload.render():"gameover"==game.currentState?game.over.render():"store"==game.currentState&&game.store.render(),"preload"!=game.currentState&&game.gui.render(),game.renderAlert(),game.fade>0&&(game.ctx.fillStyle="#ffffff",game.ctx.strokeStyle="#ffffff",game.ctx.globalAlpha=game.fade,game.ctx.beginPath(),game.ctx.rect(-10,-10,game.canvas.width+10,game.canvas.height+10),game.ctx.fill(),game.ctx.stroke(),game.ctx.closePath(),game.ctx.globalAlpha=1,game.fade-=.05),game.ctx.strokeStyle="#606060",game.ctx.globalAlpha=.2,game.ctx.beginPath();for(var a=0;a<game.canvas.width;a+=5)game.ctx.moveTo(a+.5,0),game.ctx.lineTo(a+.5,game.canvas.height);for(var b=0;b<game.canvas.height;b+=5)game.ctx.moveTo(0,b+.5),game.ctx.lineTo(game.canvas.width,b+.5);game.ctx.stroke(),game.ctx.closePath(),game.ctx.globalAlpha=1};var varters=varters={A:[[,1],[1,,1],[1,,1],[1,1,1],[1,,1]],B:[[1,1],[1,,1],[1,1,1],[1,,1],[1,1]],C:[[1,1,1],[1],[1],[1],[1,1,1]],D:[[1,1],[1,,1],[1,,1],[1,,1],[1,1]],E:[[1,1,1],[1],[1,1,1],[1],[1,1,1]],F:[[1,1,1],[1],[1,1],[1],[1]],G:[[,1,1],[1],[1,,1,1],[1,,,1],[,1,1]],H:[[1,,1],[1,,1],[1,1,1],[1,,1],[1,,1]],I:[[1,1,1],[,1],[,1],[,1],[1,1,1]],J:[[1,1,1],[,,1],[,,1],[1,,1],[1,1,1]],K:[[1,,,1],[1,,1],[1,1],[1,,1],[1,,,1]],L:[[1],[1],[1],[1],[1,1,1]],M:[[1,1,1,1,1],[1,,1,,1],[1,,1,,1],[1,,,,1],[1,,,,1]],N:[[1,,,1],[1,1,,1],[1,,1,1],[1,,,1],[1,,,1]],O:[[1,1,1],[1,,1],[1,,1],[1,,1],[1,1,1]],P:[[1,1,1],[1,,1],[1,1,1],[1],[1]],Q:[[0,1,1],[1,,,1],[1,,,1],[1,,1,1],[1,1,1,1]],R:[[1,1],[1,,1],[1,,1],[1,1],[1,,1]],S:[[1,1,1],[1],[1,1,1],[,,1],[1,1,1]],T:[[1,1,1],[,1],[,1],[,1],[,1]],U:[[1,,1],[1,,1],[1,,1],[1,,1],[1,1,1]],V:[[1,,,,1],[1,,,,1],[,1,,1],[,1,,1],[,,1]],W:[[1,,,,1],[1,,,,1],[1,,,,1],[1,,1,,1],[1,1,1,1,1]],X:[[1,,,,1],[,1,,1],[,,1],[,1,,1],[1,,,,1]],Y:[[1,,1],[1,,1],[,1],[,1],[,1]],Z:[[1,1,1,1,1],[,,,1],[,,1],[,1],[1,1,1,1,1]],0:[[,1],[1,,1],[1,,1],[1,,1],[,1]],1:[[,1],[1,1],[,1],[,1],[1,1,1]],2:[[,1,1],[1,,,1],[,,1],[,1],[1,1,1,1]],3:[[1,1,1],[,,,1],[,1,1],[,,,1],[1,1,1]],4:[[,,1,1],[,1,,1],[1,,,1],[1,1,1,1],[,,,1]],5:[[1,1,1,1],[1],[1,1,1,1],[,,,1],[1,1,1]],6:[[,1,1],[1],[1,1,1],[1,,,1],[,1,1]],7:[[1,1,1,1],[,,,1],[,,1],[,,1],[,,1]],8:[[,1,1],[1,,,1],[,1,1],[1,,,1],[,1,1]],9:[[,1,1],[1,,,1],[,1,1,1],[,,,1],[,1,1]],".":[[,,],[,,],[,,],[,,],[,,1]]," ":[[,,],[,,],[,,],[,,],[,,]],_:[[,,],[,,],[,,],[,,],[1,1,1,1]],":":[[,,],[1,,],[,,],[1,,],[,,]]};game.gui={},game.gui.fullscreenBTN={x:0,y:0,width:40,height:40,toggled:!1},game.gui.update=function(){game.gui.fullscreenBTN.x=game.canvas.width-20-game.gui.fullscreenBTN.width,game.gui.fullscreenBTN.y=20},game.gui.render=function(){"play"!=game.currentState&&(1==hoverOn(game.gui.fullscreenBTN)&&0==game.gui.fullscreenBTN.toggled?game.ctx.drawImage(game.image,0,16,8,8,game.gui.fullscreenBTN.x-5,game.gui.fullscreenBTN.y-5,game.gui.fullscreenBTN.width+10,game.gui.fullscreenBTN.height+10):1==hoverOn(game.gui.fullscreenBTN)&&1==game.gui.fullscreenBTN.toggled?game.ctx.drawImage(game.image,0,16,8,8,game.gui.fullscreenBTN.x+5,game.gui.fullscreenBTN.y+5,game.gui.fullscreenBTN.width-10,game.gui.fullscreenBTN.height-10):game.ctx.drawImage(game.image,0,16,8,8,game.gui.fullscreenBTN.x,game.gui.fullscreenBTN.y,game.gui.fullscreenBTN.width,game.gui.fullscreenBTN.height))},game.preload={},game.preload.tick=0,game.preload.text="",game.preload.placement={x:0,y:0},"true"==loadData("item")&&(game.items=JSON.parse(loadData("items"))||game.items,game.money=parseInt(loadData("money"))||0,game.score=parseInt(loadData("score"))||0,game.highscore=parseInt(loadData("highScore"))||0),game.preload.update=function(){0==game.preload.tick&&(game.fade=1,game.preload.tick+=60),100==game.preload.tick&&(game.preload.text+="f",aa.play("keypress")),105==game.preload.tick&&(game.preload.text+="i",aa.play("keypress")),110==game.preload.tick&&(game.preload.text+="r",aa.play("keypress")),115==game.preload.tick&&(game.preload.text+="e",aa.play("keypress")),120==game.preload.tick&&(game.preload.text+="n",aa.play("keypress")),125==game.preload.tick&&(game.preload.text+="i",aa.play("keypress")),130==game.preload.tick&&(game.preload.text+="b",aa.play("keypress")),135==game.preload.tick&&(game.preload.text+="b",aa.play("keypress")),140==game.preload.tick&&(game.preload.text+="l",aa.play("keypress")),145==game.preload.tick&&(game.preload.text+="e",aa.play("keypress")),150==game.preload.tick&&(game.preload.text+="r",aa.play("keypress")),155==game.preload.tick&&(game.preload.text+=" "),165==game.preload.tick&&(game.preload.text+="s",aa.play("keypress")),170==game.preload.tick&&(game.preload.text+="t",aa.play("keypress")),175==game.preload.tick&&(game.preload.text+="u",aa.play("keypress")),180==game.preload.tick&&(game.preload.text+="d",aa.play("keypress")),185==game.preload.tick&&(game.preload.text+="i",aa.play("keypress")),190==game.preload.tick&&(game.preload.text+="o",aa.play("keypress")),195==game.preload.tick&&(game.preload.text+="s",aa.play("keypress")),200==game.preload.tick&&(game.preload.text+=" "),205==game.preload.tick&&(game.preload.text+="p",aa.play("keypress")),210==game.preload.tick&&(game.preload.text+="r",aa.play("keypress")),215==game.preload.tick&&(game.preload.text+="e",aa.play("keypress")),220==game.preload.tick&&(game.preload.text+="s",aa.play("keypress")),225==game.preload.tick&&(game.preload.text+="e",aa.play("keypress")),230==game.preload.tick&&(game.preload.text+="n",aa.play("keypress")),235==game.preload.tick&&(game.preload.text+="t",aa.play("keypress")),240==game.preload.tick&&(game.preload.text+="s",aa.play("keypress")),245==game.preload.tick&&(game.preload.text+=".",aa.play("keypress")),250==game.preload.tick&&(game.preload.text+=".",aa.play("keypress")),255==game.preload.tick&&(game.preload.text+=".",aa.play("keypress")),260==game.preload.tick&&(game.preload.text="firenibbler studios presents..._"),280==game.preload.tick&&(game.preload.text="firenibbler studios presents..."),300==game.preload.tick&&(game.preload.text="firenibbler studios presents..._"),320==game.preload.tick&&(game.preload.text="firenibbler studios presents..."),340==game.preload.tick&&(game.preload.text="firenibbler studios presents..._"),360==game.preload.tick&&(game.preload.text="firenibbler studios presents..."),380==game.preload.tick&&(game.preload.text="",game.fade=1,aa.play("fade"),game.preload.title=!0),560==game.preload.tick&&(game.fade=1,aa.play("fade"),game.currentState="start"),game.preload.tick+=1.25},game.preload.render=function(){game.ctx.fillStyle="#000000",game.ctx.globalAlpha=1,game.ctx.fillRect(0,0,game.canvas.width,game.canvas.height),game.canvas.width>404?drawText(game.preload.text,game.canvas.width/2-192,game.canvas.height/2-15,3,"#ffffff"):drawText(game.preload.text,game.canvas.width/2-128,game.canvas.height/2-15,2,"#ffffff"),game.preload.title&&(10==random(0,18)&&(game.preload.placement.x=random(0,game.canvas.width)-200,game.preload.placement.y=random(0,game.canvas.height)-20,aa.play("jitter")),drawText("anti virus",game.preload.placement.x,game.preload.placement.y,5,"#ffffff"),game.preload.placement.x=game.canvas.width/2-100,game.preload.placement.y=game.canvas.height/2-10.5)},game.start={},game.start.playBTN={x:20,y:40,width:80,height:25},game.start.controlBTN={x:20,y:120,width:160,height:25},game.start.storeBTN={x:20,y:200,width:100,height:25},game.start.render=function(){game.start.playBTN.x=game.canvas.width/2-game.start.playBTN.width/2,game.start.controlBTN.x=game.canvas.width/2-game.start.controlBTN.width/2,game.start.storeBTN.x=game.canvas.width/2-game.start.storeBTN.width/2,game.start.playBTN.y=game.canvas.height/2-120,game.start.controlBTN.y=game.canvas.height/2-40,game.start.storeBTN.y=game.canvas.height/2+40,1==hoverOn(game.start.playBTN)?drawText("play",game.start.playBTN.x,game.start.playBTN.y,5,"#ffffff"):drawText("play",game.start.playBTN.x,game.start.playBTN.y,5,"#00ffff"),1==hoverOn(game.start.controlBTN)?drawText("controls",game.start.controlBTN.x,game.start.controlBTN.y,5,"#ffffff"):drawText("controls",game.start.controlBTN.x,game.start.controlBTN.y,5,"#00ffff"),1==hoverOn(game.start.storeBTN)?drawText("store",game.start.storeBTN.x,game.start.storeBTN.y,5,"#ffffff"):drawText("store",game.start.storeBTN.x,game.start.storeBTN.y,5,"#00ffff"),game.start.controls&&(game.ctx.globalAlpha=.9,game.ctx.fillStyle="#000000",game.ctx.fillRect(0,0,game.canvas.width,game.canvas.height),game.ctx.globalAlpha=1,drawText("Controls:",20,20,5,"#ffffff"),drawText("Tap or click to shoot viruses",10,60,2.5,"#ffffff"),drawText("before they get past your files.",10,90,2.5,"#ffffff"),drawText("you must protect your",10,120,2.5,"#ffffff"),drawText("hard drive at all costs.",10,150,2.5,"#ffffff"),drawText("WARNING",20,180,5,"#ff0000"),drawText("the more files destroyed,",10,220,2.5,"#ffffff"),drawText("the glitchier your system gets.",10,250,2.5,"#ffffff"))},game.play={},game.play.antivirus=[],game.play.spawnAntivirus=function(){game.play.antivirus.push({x:random(10,game.canvas.width-60),y:random(game.canvas.height/2,game.canvas.height-60),width:40,height:40,update:function(){10==random(0,60)&&game.spawnSearchingBulvar(this.x,this.y)}})},game.play.defragBTN={x:20,y:160,width:40,height:40},game.play.moneyBTN={x:20,y:220,width:40,height:40},game.play.firewallBTN={x:game.canvas.width-20,y:160,width:40,height:40},game.play.scannerBTN={x:game.canvas.width-20,y:220,width:40,height:40},game.play.onclick=function(){if(1==hoverOn(game.play.defragBTN)&&game.items.diskdefrag>0){game.files=[],game.spawnFileSheild(),game.hits=0;for(var a=0;a<game.canvas.width;a+=40)game.spawnParticles(a,game.canvas.height-40,10);game.spawnAlert("All files healed","#ffffff"),aa.play("powerup"),game.items.diskdefrag-=1}else if(1==hoverOn(game.play.defragBTN)&&game.items.diskdefrag<=0)aa.play("noclick"),game.spawnAlert("all out","#ff0000");else if(1==hoverOn(game.play.moneyBTN)&&game.items.doublemoney>0)game.moneycount<0&&(game.moneycount=0),game.spawnAlert("double money activated","#ffffff"),aa.play("powerup"),game.moneycount+=300,game.items.doublemoney-=1;else if(1==hoverOn(game.play.moneyBTN)&&game.items.doublemoney<=0)game.spawnAlert("all out","#ff0000"),aa.play("noclick");else if(1==hoverOn(game.play.firewallBTN)&&game.items.firewall>0){for(var b=0;b<4;b++)for(var a=-40;a<game.canvas.width;a+=20)game.spawnFireBulvar(a,game.canvas.height-120);game.spawnAlert("firewall activated","#ffffff"),aa.play("powerup"),game.items.firewall--}else if(1==hoverOn(game.play.firewallBTN)&&game.items.firewall<=0)game.spawnAlert("all out","#ff0000"),aa.play("noclick");else if(1==hoverOn(game.play.scannerBTN)&&game.items.virusscanner>0){for(var a=-40;a<game.canvas.width;a+=20)game.spawnScanBulvar(a,game.canvas.height-120);game.spawnAlert("virus scanner activated","#ffffff"),aa.play("powerup"),game.items.virusscanner--}else 1==hoverOn(game.play.scannerBTN)&&game.items.virusscanner<=0?(game.spawnAlert("all out","#ff0000"),aa.play("noclick")):(game.spawnBulvar(game.canvas.width/2-20,game.canvas.height-80),random(0,game.items.searchingcode+10)<game.items.searchingcode&&game.spawnSearchingBulvar(game.canvas.width/2-20,game.canvas.height-80))},game.play.init=function(){saveData("items",game.items),saveData("money",game.money),saveData("score",game.score),saveData("highScore",game.highscore),game.fade=1,game.play.antivirus=[],game.currentState="play",game.spawnFileSheild(),game.bugs=[],game.bulvars=[],game.score=0;for(var a=0;a<game.items.antivirus;a++)game.play.spawnAntivirus()},game.play.update=function(){game.moneycount--,random(0,50)<=(game.score+game.highscore/5)/5e3&&game.spawnBug();for(var a=0;a<game.play.antivirus.length;a++)game.play.antivirus[a].update();game.play.scannerBTN.x=game.canvas.width-60,game.play.firewallBTN.x=game.canvas.width-60},game.play.render=function(){for(var a=0;a<game.play.antivirus.length;a++)random(0,400)<game.hits?game.ctx.drawImage(game.image,8,8,8,8,game.play.antivirus[a].x+random(-5,5),game.play.antivirus[a].y+random(-5,5),40,40):game.ctx.drawImage(game.image,8,8,8,8,game.play.antivirus[a].x,game.play.antivirus[a].y,40,40);random(0,200)<game.hits?(game.ctx.drawImage(game.image,24,8,8,8,game.play.defragBTN.x+random(-5,5),game.play.defragBTN.y+random(-5,5),game.play.defragBTN.width,game.play.defragBTN.height),drawText(game.items.diskdefrag+"",game.play.defragBTN.x+5+random(-5,5),game.play.defragBTN.y+5+random(-5,5),5,"#ffffff"),game.ctx.drawImage(game.image,16,16,8,8,game.play.moneyBTN.x+random(-5,5),game.play.moneyBTN.y+random(-5,5),game.play.moneyBTN.width,game.play.moneyBTN.height),drawText(game.items.doublemoney+"",game.play.moneyBTN.x+5+random(-5,5),game.play.moneyBTN.y+random(-5,5)+5,5,"#ffffff"),game.ctx.drawImage(game.image,8,16,8,8,game.play.firewallBTN.x+random(-5,5),game.play.firewallBTN.y+random(-5,5),game.play.firewallBTN.width,game.play.firewallBTN.height),drawText(game.items.firewall+"",game.play.firewallBTN.x+5+random(-5,5),game.play.firewallBTN.y+5+random(-5,5),5,"#ffffff"),game.ctx.drawImage(game.image,16,8,8,8,game.play.scannerBTN.x+random(-5,5),game.play.scannerBTN.y+random(-5,5),game.play.scannerBTN.width,game.play.scannerBTN.height),drawText(game.items.virusscanner+"",game.play.scannerBTN.x+5+random(-5,5),game.play.scannerBTN.y+5+random(-5,5),5,"#ffffff"),game.moneycount>0&&drawText("2x "+Math.floor(game.moneycount/30),game.canvas.width/2-100+random(-5,5),80+random(-5,5),5,"#00ff00")):(game.ctx.drawImage(game.image,24,8,8,8,game.play.defragBTN.x,game.play.defragBTN.y,game.play.defragBTN.width,game.play.defragBTN.height),drawText(game.items.diskdefrag+"",game.play.defragBTN.x+5,game.play.defragBTN.y+5,5,"#ffffff"),game.ctx.drawImage(game.image,16,16,8,8,game.play.moneyBTN.x,game.play.moneyBTN.y,game.play.moneyBTN.width,game.play.moneyBTN.height),drawText(game.items.doublemoney+"",game.play.moneyBTN.x+5,game.play.moneyBTN.y+5,5,"#ffffff"),game.ctx.drawImage(game.image,8,16,8,8,game.play.firewallBTN.x,game.play.firewallBTN.y,game.play.firewallBTN.width,game.play.firewallBTN.height),drawText(game.items.firewall+"",game.play.firewallBTN.x+5,game.play.firewallBTN.y+5,5,"#ffffff"),game.ctx.drawImage(game.image,16,8,8,8,game.play.scannerBTN.x,game.play.scannerBTN.y,game.play.scannerBTN.width,game.play.scannerBTN.height),drawText(game.items.virusscanner+"",game.play.scannerBTN.x+5,game.play.scannerBTN.y+5,5,"#ffffff"),game.moneycount>0&&drawText("2x "+Math.floor(game.moneycount/30),game.canvas.width/2-100,80,5,"#00ff00")),random(0,200)<game.hits?(drawText("score: "+game.score,40+random(-5,5),40+random(-5,5),5,"#00ffff"),drawText("bits: "+game.money,40+random(-5,5),100+random(-5,5),5,"#00ffff")):(drawText("score: "+game.score,40,40,5,"#00ffff"),drawText("bits: "+game.money,40,100,5,"#00ffff"))},game.over={},game.over.timer=0,game.over.init=function(){game.currentState="gameover",game.hits=0,game.over.timer=0;for(var a=0;a<game.bugs.length;a++)game.spawnParticles(game.bugs[a].x,game.bugs[a].y,2);for(var a=0;a<game.files.length;a++)game.spawnParticles(game.files[a].x,game.files[a].y,2);for(var a=0;a<game.bulvars.length;a++)game.spawnParticles(game.bulvars[a].x,game.bulvars[a].y,5);aa.play("explosion"),game.bugs=[],game.files=[],game.bulvars=[]},game.over.update=function(){3==random(0,6)&&game.spawnParticles(random(0,game.canvas.width),random(0,game.canvas.height),30),game.over.timer++},game.over.render=function(){drawText("game over",game.canvas.width/2-126,game.canvas.height/2-100,7,"#ffffff"),drawText("High score: "+game.highscore,game.canvas.width/2-126,game.canvas.height/2-50,4,"#ffffff"),drawText("Score: "+game.score,game.canvas.width/2-126,game.canvas.height/2-20,4,"#ffffff"),drawText("Bits: "+game.money,game.canvas.width/2-126,game.canvas.height/2+10,4,"#ffffff")},game.store={},game.store.currentSelected,game.store.antivirus={x:0,y:0,width:40,height:40,name:"Anti virus",description:"Purchase an auto shooting antivirus.",price:750,id:"antivirus",update:function(){this.x=game.canvas.width/2-80,this.y=120}},game.store.fasterbulvars={x:0,y:0,width:40,height:40,name:"faster defence",description:"upgrades bulvar speed.",price:250,id:"fasterdefence",update:function(){this.x=game.canvas.width/2-20,this.y=120}},game.store.seekingbulvar={x:0,y:0,width:40,height:40,name:"searching code",description:"shoot seeking code.",price:500,id:"searchingcode",update:function(){this.x=game.canvas.width/2+40,this.y=120}},game.store.diskdefrag={x:0,y:0,width:40,height:40,name:"disk defrag",description:"use to fix your hard drive.",price:50,id:"diskdefrag",update:function(){this.x=game.canvas.width/2-110,this.y=180}},game.store.virusscanner={x:0,y:0,width:40,height:40,name:"virus scanner",description:"finds and destroys all viruses.",price:60,id:"virusscanner",update:function(){this.x=game.canvas.width/2-50,this.y=180}},game.store.moremoney={x:0,y:0,width:40,height:40,name:"double money",description:"earn 2x more bits for ten seconds.",price:50,id:"doublemoney",update:function(){this.x=game.canvas.width/2+10,this.y=180}},game.store.firewall={x:0,y:0,width:40,height:40,name:"firewall",description:"extra layer of protection.",id:"firewall",price:125,update:function(){this.x=game.canvas.width/2+70,this.y=180}},game.store.buy={x:0,y:0,width:60,height:20,update:function(){void 0!=game.store.currentSelected?game.canvas.width<600||game.canvas.height<600?(this.x=game.canvas.width-this.width-20,this.y=game.canvas.height-this.height-20):(this.x=game.canvas.width/2+80,this.y=360):(this.x=-1e3,this.y=-1e3)}},game.store.menu={x:0,y:0,width:100,height:20,update:function(){game.canvas.width<600||game.canvas.height<600?(this.x=20,this.y=game.canvas.height-this.height-20):(this.x=game.canvas.width/2-140,this.y=360)}},game.store.init=function(){game.currentState="store",saveData("items",game.items),saveData("money",game.money),saveData("score",game.score),saveData("highScore",game.highscore)},game.store.update=function(){game.store.antivirus.update(),game.store.fasterbulvars.update(),game.store.seekingbulvar.update(),game.store.diskdefrag.update(),game.store.virusscanner.update(),game.store.moremoney.update(),game.store.firewall.update(),game.store.buy.update(),game.store.menu.update()},game.store.render=function(){drawText("store",game.canvas.width/2-50,20,4,"#00ffff"),drawText("bits: "+game.money,20,60,4,"#00ffff"),1==hoverOn(game.store.menu)?drawText("menu",game.store.menu.x,game.store.menu.y,5,"#ffffff"):drawText("menu",game.store.menu.x,game.store.menu.y,5,"#00ffff"),1==hoverOn(game.store.buy)?drawText("buy",game.store.buy.x,game.store.buy.y,5,"#ffffff"):drawText("buy",game.store.buy.x,game.store.buy.y,5,"#00ffff"),game.ctx.drawImage(game.image,8,8,8,8,game.store.antivirus.x,game.store.antivirus.y,40,40),drawText(game.items[game.store.antivirus.id]+"",game.store.antivirus.x,game.store.antivirus.y,5,"#ffffff"),game.ctx.drawImage(game.image,16,24,8,8,game.store.fasterbulvars.x,game.store.fasterbulvars.y,40,40),drawText(game.items[game.store.fasterbulvars.id]+"",game.store.fasterbulvars.x,game.store.fasterbulvars.y,5,"#ffffff"),game.ctx.drawImage(game.image,24,16,8,8,game.store.seekingbulvar.x,game.store.seekingbulvar.y,40,40),drawText(game.items[game.store.seekingbulvar.id]+"",game.store.seekingbulvar.x,game.store.seekingbulvar.y,5,"#ffffff"),game.ctx.drawImage(game.image,24,8,8,8,game.store.diskdefrag.x,game.store.diskdefrag.y,40,40),drawText(game.items[game.store.diskdefrag.id]+"",game.store.diskdefrag.x,game.store.diskdefrag.y,5,"#ffffff"),game.ctx.drawImage(game.image,16,8,8,8,game.store.virusscanner.x,game.store.virusscanner.y,40,40),drawText(game.items[game.store.virusscanner.id]+"",game.store.virusscanner.x,game.store.virusscanner.y,5,"#ffffff"),game.ctx.drawImage(game.image,16,16,8,8,game.store.moremoney.x,game.store.moremoney.y,40,40),drawText(game.items[game.store.moremoney.id]+"",game.store.moremoney.x,game.store.moremoney.y,5,"#ffffff"),game.ctx.drawImage(game.image,8,16,8,8,game.store.firewall.x,game.store.firewall.y,40,40),drawText(game.items[game.store.firewall.id]+"",game.store.firewall.x,game.store.firewall.y,5,"#ffffff"),void 0!=game.store.currentSelected&&(drawText(game.store.currentSelected.name,game.canvas.width/2-150,240,5,"#00ffff"),drawText("bits: "+game.store.currentSelected.price,game.canvas.width/2-150,280,5,"#00ffff"),drawText(game.store.currentSelected.description,game.canvas.width/2-150,320,2.5,"#00ffff"))},game.store.onclick=function(){hoverOn(game.store.antivirus)&&(game.store.currentSelected=game.store.antivirus,aa.play("jitter")),hoverOn(game.store.fasterbulvars)&&(game.store.currentSelected=game.store.fasterbulvars,aa.play("jitter")),hoverOn(game.store.seekingbulvar)&&(game.store.currentSelected=game.store.seekingbulvar,
aa.play("jitter")),hoverOn(game.store.diskdefrag)&&(game.store.currentSelected=game.store.diskdefrag,aa.play("jitter")),hoverOn(game.store.virusscanner)&&(game.store.currentSelected=game.store.virusscanner,aa.play("jitter")),hoverOn(game.store.moremoney)&&(game.store.currentSelected=game.store.moremoney,aa.play("jitter")),hoverOn(game.store.firewall)&&(game.store.currentSelected=game.store.firewall,aa.play("jitter")),hoverOn(game.store.menu)&&(game.currentState="start",aa.play("fade"),game.fade=1,saveData("items",game.items),saveData("money",game.money),saveData("score",game.score),saveData("highScore",game.highscore)),void 0!=game.store.currentSelected&&hoverOn(game.store.buy)&&(game.money>=game.store.currentSelected.price?(game.money-=game.store.currentSelected.price,game.items[game.store.currentSelected.id]=game.items[game.store.currentSelected.id]||0,game.items[game.store.currentSelected.id]++,game.spawnAlert("bought","#00ff00"),aa.play("powerup")):(game.spawnAlert("not enough money","#ff0000"),aa.play("noclick")))},game.bugs=[],game.spawnBug=function(){var a=1;game.score>5e3&&(a=random(1,3)),game.score>1e4&&(a=random(1,4)),game.score>2e4&&(a=random(1,5)),game.bugs.push({x:random(0,game.canvas.width-40),y:-40,width:40,height:40,HP:a,speed:3*Math.random()+1})},game.updateBug=function(){for(var a=0;a<game.bugs.length;a++)game.bugs[a].y+=5-game.bugs[a].HP,20===random(0,200)&&(game.bugs[a].x+=random(-100,100),game.bugs[a].y+=random(-100,100),game.spawnParticles(game.bugs[a].x,game.bugs[a].y,2)),game.bugs[a].x>game.canvas.width-game.bugs[a].width&&(game.bugs[a].x+=random(-200,-100)),game.bugs[a].x<0&&(game.bugs[a].x+=random(100,200)),game.bugs[a].y>=game.canvas.height+10&&("play"==game.currentState&&(game.over.init(),game.currentState="gameover",aa.play("fade"),saveData("items",game.items),saveData("money",game.money),saveData("score",game.score),saveData("highScore",game.highscore)),game.devareBug(a))},game.bugJitter=15,game.renderBug=function(){for(var a=0;a<game.bugs.length;a++)game.bugs[a].HP<=1?random(0,40)>0?game.ctx.drawImage(game.image,16,0,8,8,game.bugs[a].x,game.bugs[a].y,game.bugs[a].width,game.bugs[a].height):(game.ctx.drawImage(game.image,16,0,8,8,game.bugs[a].x+random(-game.bugJitter,game.bugJitter),game.bugs[a].y+random(-game.bugJitter,game.bugJitter),game.bugs[a].width,game.bugs[a].height),aa.play("jitter")):2==game.bugs[a].HP?random(0,40)>0?game.ctx.drawImage(game.image,8,32,8,8,game.bugs[a].x,game.bugs[a].y,game.bugs[a].width,game.bugs[a].height):(game.ctx.drawImage(game.image,8,32,8,8,game.bugs[a].x+random(-game.bugJitter,game.bugJitter),game.bugs[a].y+random(-game.bugJitter,game.bugJitter),game.bugs[a].width,game.bugs[a].height),aa.play("jitter")):3==game.bugs[a].HP?random(0,40)>0?game.ctx.drawImage(game.image,24,24,8,8,game.bugs[a].x,game.bugs[a].y,game.bugs[a].width,game.bugs[a].height):(game.ctx.drawImage(game.image,24,24,8,8,game.bugs[a].x+random(-game.bugJitter,game.bugJitter),game.bugs[a].y+random(-game.bugJitter,game.bugJitter),game.bugs[a].width,game.bugs[a].height),aa.play("jitter")):game.bugs[a].HP>=4&&(random(0,40)>0?game.ctx.drawImage(game.image,0,32,8,8,game.bugs[a].x,game.bugs[a].y,game.bugs[a].width,game.bugs[a].height):(game.ctx.drawImage(game.image,0,32,8,8,game.bugs[a].x+random(-game.bugJitter,game.bugJitter),game.bugs[a].y+random(-game.bugJitter,game.bugJitter),game.bugs[a].width,game.bugs[a].height),aa.play("jitter")))},game.devareBug=function(a){game.bugs.splice(a,1)},game.bulvars=[],game.spawnBulvar=function(a,b){aa.play("laser");var c=pointer.x-20-a,d=pointer.y-20-b,e=Math.sqrt(c*c+d*d),f=c/e*(13+game.items.fasterdefence),g=d/e*(13+game.items.fasterdefence);game.bulvars.push({x:a,y:b,width:40,height:40,velX:f,life:0,velY:g,img:"blue",update:function(){}})},game.spawnSeakingBulvar=function(a,b){aa.play("laser");var c=random(1,game.bugs.length-1);if(void 0!=game.bugs[c]){var d=game.bugs[c].x-20-a,e=game.bugs[c].y-20-b+100,f=Math.sqrt(d*d+e*e),g=d/f*(13+game.items.fasterdefence),h=e/f*(13+game.items.fasterdefence);game.bulvars.push({x:a,y:b,width:40,height:40,life:0,velX:g,velY:h,img:"blue",update:function(){}})}},game.spawnFireBulvar=function(a,b){game.bulvars.push({x:a,y:b,width:40,height:40,life:-900,velX:0,velY:0,img:"red",update:function(){}})},game.spawnScanBulvar=function(a,b){game.bulvars.push({x:a,y:b,width:40,height:40,life:-300,velX:0,velY:-10,img:"blue",update:function(){}})},game.spawnSearchingBulvar=function(a,b){aa.play("laser");var c=random(1,game.bugs.length-1);void 0!=game.bugs[c]&&game.bulvars.push({randomBug:c,x:a,y:b,width:40,height:40,velX:0,velY:0,accX:0,accY:0,life:0,img:"red",update:function(){if("undefined"==typeof game.bugs[this.randomBug])this.randomBug=random(0,game.bugs.length-1);else{var a=game.bugs[this.randomBug].x-20-this.x,b=game.bugs[this.randomBug].y-20-this.y,c=Math.sqrt(a*a+b*b);this.accX=a/c*(13+game.items.fasterdefence/2)/7,this.accY=b/c*(13+game.items.fasterdefence/2)/7,this.velX+=this.accX,this.velY+=this.accY,this.velX>13+game.items.fasterdefence/2?this.velX=13+game.items.fasterdefence/2:this.velX<-(13+game.items.fasterdefence/2)&&(this.velX=-(13+game.items.fasterdefence/2)),this.velY>13+game.items.fasterdefence/2?this.velY=13+game.items.fasterdefence/2:this.velY<-(13+game.items.fasterdefence/2)&&(this.velY=-(13+game.items.fasterdefence/2))}}})},game.devareBulvar=function(a){game.bulvars[a].kill=!0},game.updateBulvar=function(){for(var a=0;a<game.bulvars.length;a++)game.bulvars[a].life++,game.bulvars[a].update(),game.bulvars[a].x+=game.bulvars[a].velX,game.bulvars[a].y+=game.bulvars[a].velY,game.bulvars[a].life>120&&(game.bulvars[a].kill=!0,game.spawnParticles(game.bulvars[a].x,game.bulvars[a].y,3)),(game.bulvars[a].x>game.canvas.width+200||game.bulvars[a].x<-200||game.bulvars[a].y>game.canvas.height+200||game.bulvars[a].y<-200)&&game.devareBulvar(a),1==game.bulvars[a].kill&&game.bulvars.splice(a,1)},game.renderBulvar=function(){for(var a=0;a<game.bulvars.length;a++)random(0,200)<=game.hits?"blue"==game.bulvars[a].img?game.ctx.drawImage(game.image,24,0,8,8,game.bulvars[a].x+random(-10,10),game.bulvars[a].y+random(-10,10),game.bulvars[a].width,game.bulvars[a].height):"red"==game.bulvars[a].img&&game.ctx.drawImage(game.image,24,16,8,8,game.bulvars[a].x+random(-10,10),game.bulvars[a].y+random(-10,10),game.bulvars[a].width,game.bulvars[a].height):"blue"==game.bulvars[a].img?game.ctx.drawImage(game.image,24,0,8,8,game.bulvars[a].x,game.bulvars[a].y,game.bulvars[a].width,game.bulvars[a].height):"red"==game.bulvars[a].img&&game.ctx.drawImage(game.image,24,16,8,8,game.bulvars[a].x,game.bulvars[a].y,game.bulvars[a].width,game.bulvars[a].height);"play"!=game.currentState&&"start"!=game.currentState||(random(0,400)<game.hits?game.ctx.drawImage(game.image,0,8,8,8,game.canvas.width/2-20+random(-5,5),game.canvas.height-80+random(-5,5),40,40):game.ctx.drawImage(game.image,0,8,8,8,game.canvas.width/2-20,game.canvas.height-80,40,40))},game.particles=[],game.spawnParticles=function(a,b,c){c>=10&&aa.play("explosion");for(var d=0;d<c;d++)game.particles.push({x:a,y:b,velX:random(-3,3),velY:random(-3,3),life:30,img:random(0,2)})},game.devareParticle=function(a){game.particles.splice(a,1)},game.updateParticle=function(){for(var a=0;a<game.particles.length;a++)"undefined"!=typeof game.particles[a]&&(game.particles[a].x+=game.particles[a].velX,game.particles[a].y+=game.particles[a].velY,game.particles[a].life--,game.particles[a].x>game.canvas.width||game.particles[a].x<-40||game.particles[a].y>game.canvas.height||game.particles[a].y<-40?game.devareParticle(a):game.particles[a].life<=0&&game.devareParticle(a))},game.renderParticle=function(){for(var a=0;a<game.particles.length;a++)for(var a=0;a<game.particles.length;a++)game.ctx.globalAlpha=game.particles[a].life/30,0==game.particles[a].img?game.ctx.drawImage(game.image,0,0,8,8,game.particles[a].x,game.particles[a].y,20,20):game.ctx.drawImage(game.image,8,0,8,8,game.particles[a].x,game.particles[a].y,20,20),game.ctx.globalAlpha=1},game.bckParticles=[],game.spawnBckParticle=function(a,b){var c=80;game.bckParticles.push({x:a,y:b,size:c,velX:0,velY:7,img:random(0,2),dead:!1})},game.devareBckParticle=function(a){game.bckParticles.splice(a,1)},game.updateBckParticle=function(){for(var a=0;a<game.bckParticles.length;a++)"undefined"!=typeof game.bckParticles[a]&&0==game.bckParticles[a].dead&&(game.bckParticles[a].x+=game.bckParticles[a].velX,game.bckParticles[a].y+=game.bckParticles[a].velY,10==random(0,200)&&(game.bckParticles[a].img=random(0,2)),game.bckParticles[a].y>2*game.canvas.height&&game.devareBckParticle(a))},game.renderBckParticle=function(){for(var a=0;a<game.bckParticles.length;a++)"undefined"!=typeof game.bckParticles[a]&&game.bckParticles[a].x<=game.canvas.width&&game.bckParticles[a].y<game.canvas.height&&(game.ctx.globalAlpha=.1,random(0,400)<game.hits?0==game.bckParticles[a].img?game.ctx.drawImage(game.image,0,0,8,8,game.bckParticles[a].x+random(-5,5),game.bckParticles[a].y+random(-5,5),game.bckParticles[a].size,game.bckParticles[a].size):game.ctx.drawImage(game.image,8,0,8,8,game.bckParticles[a].x+random(-5,5),game.bckParticles[a].y+random(-5,5),game.bckParticles[a].size,game.bckParticles[a].size):0==game.bckParticles[a].img?game.ctx.drawImage(game.image,0,0,8,8,game.bckParticles[a].x,game.bckParticles[a].y,game.bckParticles[a].size,game.bckParticles[a].size):game.ctx.drawImage(game.image,8,0,8,8,game.bckParticles[a].x,game.bckParticles[a].y,game.bckParticles[a].size,game.bckParticles[a].size),game.ctx.globalAlpha=1)},game.alerts=[],game.spawnAlert=function(a,b){game.alerts.push({text:a,color:b,length:a.length,life:0})},game.devareAlert=function(a){game.alerts.splice(a,1)},game.renderAlert=function(){for(var a=0;a<game.alerts.length;a++)game.ctx.globalAlpha=(100-game.alerts[a].life)/100,game.alerts[a].life+=2,drawText(game.alerts[a].text,game.canvas.width/2-4*game.alerts[a].length*5/2,75-.75*game.alerts[a].life,5,game.alerts[a].color,!0),game.alerts[a].life>100&&game.devareAlert(a)},game.files=[],game.spawnFile=function(a,b){game.files.push({x:a,y:b,width:40,height:40,HP:2})},game.devareFile=function(a){game.files.splice(a,1)},game.updateFile=function(){for(var a=0;a<game.files.length;a++)game.files[a].y=game.canvas.height-40,game.files[a].HP<=0&&game.devareFile(a)},game.renderFile=function(){for(var a=0;a<game.files.length;a++)game.files[a].x<game.canvas.width&&(random(0,400)<game.hits?2==game.files[a].HP?game.ctx.drawImage(game.image,0,24,8,8,game.files[a].x+random(-5,5),game.files[a].y+random(-5,5),game.files[a].width,game.files[a].height):game.ctx.drawImage(game.image,8,24,8,8,game.files[a].x+random(-5,5),game.files[a].y+random(-5,5),game.files[a].width,game.files[a].height):2==game.files[a].HP?game.ctx.drawImage(game.image,0,24,8,8,game.files[a].x,game.files[a].y,game.files[a].width,game.files[a].height):game.ctx.drawImage(game.image,8,24,8,8,game.files[a].x,game.files[a].y,game.files[a].width,game.files[a].height))},game.spawnFileSheild=function(){for(var a=0;a<4*game.canvas.width;a+=40)game.spawnFile(a,canvas.height-40)};var pointer={x:0,y:0};document.addEventListener("mousemove",function(a){pointer.x=a.pageX-game.canvas.offsetLeft,pointer.y=a.pageY-game.canvas.offsetTop,a.cancelBubble=!0,a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()},!1),document.addEventListener("mousedown",click,!1),document.addEventListener("contextmenu",function(a){a.cancelBubble=!0,a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()},!1),document.addEventListener("drag",function(a){a.cancelBubble=!0,a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()},!1);var fps=30,now,then=Date.now(),interval=1e3/fps,delta;game.init=function(){draw()};